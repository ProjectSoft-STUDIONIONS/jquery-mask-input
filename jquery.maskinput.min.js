/*
  Mask Input plugin for jQuery
  Licensed under the MIT license (https://github.com/shaungrady/jquery-mask-input/blob/master/LICENSE)
  Version: 1.2.1
*/
(function(e,t,n,r){function s(e,t){if(t!==r){if(e.setSelectionRange){e.focus();e.setSelectionRange(t,t)}else if(e.createTextRange){var i=e.createTextRange();i.collapse(true);i.moveEnd("character",t);i.moveStart("character",t);i.select()}}else{var s=0;if(n.selection){e.focus();var o=n.selection.createRange();o.moveStart("character",-e.value.length);s=o.text.length}if(e.selectionStart!==r)s=e.selectionStart;return s}}function o(e){if(e.selectionStart!==r)return e.selectionEnd-e.selectionStart;if(n.selection)return n.selection.createRange().text.length}var i={9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/};e.fn.extend({maskInput:function(t){if(!this.length)return this;return this.filter("input").each(function(n,u){function d(t){return e.inArray(t,l)>-1}function v(t){var n="",r=c.slice();e.each(t.split(""),function(e,t){if(r.length&&r[0].test(t)){n+=t;r.shift()}});return n}function m(t){var n="",r=l.slice();e.each(h.split(""),function(e,i){if(t.length&&e===r[0]){n+=t.charAt(0)||"_";t=t.substr(1);r.shift()}else n+=i});return n}function g(t){var n=e(this);if(!n.data("isUnmaskedValueValid")){n.val("");n.attr("value-unmasked","")}n.data("caretPositionPreinput",0);n.data("selectionLengthPreinput",0)}function y(t){var n=t.which,r=t.type;if(n==16||n==91)return true;var i=e(this),u=i.val(),a=i.data("valuePreinput")||"",f,c=v(u),p=i.attr("value-unmasked")||"",g=s(this)||0,b=i.data("caretPositionPreinput")||0,w=g-b,E=l[0],S=l[c.length]||l.slice().pop()+1,x=o(this),T=i.data("selectionLengthPreinput")||0,N=x>0,C=T>0,k=u.length>a.length||T&&u.length>a.length-T,L=u.length<a.length||T&&u.length==a.length-T,A=n>=37&&n<=40&&t.shiftKey,O=n==37,M=n==8||r!="keyup"&&L&&w===-1,_=n==46||r!="keyup"&&L&&w===0&&!C,D=(O||M||r=="click")&&g>0;i.data("selectionLengthPreinput",x);i.unbind("mouseout.mask").one("mouseout.mask",y);if(r=="mouseout"||A||N&&(r=="click"||r=="keyup"))return true;if((r=="input"||r=="propertychange")&&L&&!C&&c===p){while(M&&g>0&&!d(g))g--;while(_&&g<h.length&&inArray(g,l)==-1)g++;var P=e.inArray(g,l);c=c.substring(0,P)+c.substring(P+1)}i.attr("value-unmasked",c);i.data("isUnmaskedValueValid",c.length===l.length-1);f=m(c);i.data("valuePreinput",f);i.val(f);if(D)g--;g=g>S?S:g<E?E:g;while(!d(g)&&g>E&&g<S)g+=D?-1:1;if(D&&g<S||k&&!d(b))g++;i.data("caretPositionPreinput",g);s(this,g)}var a=e(u),f=a.attr("mask")||t,l=[],c=[],h="",p=0;if(f===r)return true;if(f instanceof Array){e.each(f,function(t,n){if(n instanceof RegExp){l.push(p++);h+="_";c.push(n)}else if(typeof n=="string"){e.each(n.split(""),function(e,t){h+=t;p++})}})}else{e.each(f.split(""),function(e,t){if(i[t]){l.push(p);h+="_";c.push(i[t])}else h+=t;p++})}if(!l.length)return this;l.push(p);(function(e){var t=v(e.val()),n=m(t),r=t.length===l.length-1,i=e.attr("maxlength");e.val(n);e.attr("value-unmasked",t);e.data("isUnmaskedValueValid",r);if(i)e.attr("maxlength",i+1)})(a);a.attr("placeholder",h);a.unbind(".mask");a.bind("blur.mask",g).triggerHandler("blur");a.bind("input.mask propertychange.mask keyup.mask click.mask",y)})}})})(jQuery,window,document)