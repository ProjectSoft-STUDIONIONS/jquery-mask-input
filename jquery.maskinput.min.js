/*
  Mask Input plugin for jQuery
  Licensed under the MIT license (https://github.com/shaungrady/jquery-mask-input/blob/master/LICENSE)
  Version: 1.1.1
*/
(function(e,t,n,r){function s(e,t){if(t!==r){if(e.setSelectionRange){e.focus();e.setSelectionRange(t,t)}else if(e.createTextRange){var i=e.createTextRange();i.collapse(true);i.moveEnd("character",t);i.moveStart("character",t);i.select()}}else{var s=0;if(n.selection){e.focus();var o=n.selection.createRange();o.moveStart("character",-e.value.length);s=o.text.length}if(e.selectionStart!==r)s=e.selectionStart;return s}}function o(e){if(e.selectionStart!==r)return e.selectionEnd-e.selectionStart;if(n.selection)return n.selection.createRange().text.length}var i={9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/};e.fn.extend({maskInput:function(t){if(!this.length)return this;return this.filter("input").each(function(n,u){function p(t){var n="",r=c.slice();e.each(t.split(""),function(e,t){if(r.length&&r[0].test(t)){n+=t;r.shift()}});return n}function d(t){var n="",r=0;e.each(f.split(""),function(e,s){if(i[s])n+=t.charAt(r++)||"_";else n+=s});return n}function v(t){var n=e(this);if(!n.data("isUnmaskedValueValid")){n.val("");n.attr("value-unmasked","")}n.data("caretPositionPreinput",0);n.data("selectionLengthPreinput",0)}function m(t){var n=t.which,r=t.type,i=e.inArray;console.log(t);if(n==16||n==91)return true;var u=e(this),a=u.val(),c=u.data("valuePreinput")||"",v,g=p(a),y=u.attr("value-unmasked")||"",b=s(this)||0,w=u.data("caretPositionPreinput")||0,E=b-w,S=l[0],x=l[g.length],T=o(this),N=u.data("selectionLengthPreinput")||0,C=T>0,k=N>0,L=a.length>c.length||N&&a.length>c.length-N,A=a.length<c.length||N&&a.length==c.length-N,O=n>=37&&n<=40&&t.shiftKey,M=n==37,_=n==8||r!="keyup"&&A&&E===-1,D=n==46||r!="keyup"&&A&&E===0&&!k,P=(M||_||r=="click")&&b>0;u.data("selectionLengthPreinput",T);u.unbind("mouseout.mask").one("mouseout.mask",m);if(r=="mouseout"||O||C&&(r=="click"||r=="keyup"))return true;if((r=="input"||r=="propertychange")&&A&&!k&&g===y){while(_&&b>0&&i(b,l)==-1)b--;while(D&&b<h.length&&i(b,l)==-1)b++;var H=i(b,l);g=g.substring(0,H)+g.substring(H+1)}u.attr("value-unmasked",g);u.data("isUnmaskedValueValid",g.length===l.length);v=d(g);u.data("valuePreinput",v);u.val(v);if(b<=S&&L)b=S+1;b=b>x?x:b;if(P)b--;while(i(b,l)===-1){if(P)b--;else b++;if(b<l[0]){b=l[0];P=false;break}else if(b>=f.length){b=l[l.length-1]+1;P=false;break}}if(P||L&&i(w,l)===-1)b++;u.data("caretPositionPreinput",b);s(this,b)}var a=e(u),f=a.attr("mask")||t,l=[],c=[],h="";if(f===r)return true;e.each(f.split(""),function(e,t){if(i[t]){l.push(e);h+="_";c.push(i[t])}else h+=t});if(!l.length)return this;(function(e){var t=e.val(),n=d(t),r=p(n),i=r.length===l.length;e.val(n);e.removeAttr("maxlength");e.attr("value-unmasked",r);e.data("isUnmaskedValueValid",i)})(a);a.attr("placeholder",h);a.unbind(".mask");a.bind("blur.mask",v).triggerHandler("blur");a.bind("input.mask propertychange.mask keyup.mask click.mask",m)})}})})(jQuery,window,document)