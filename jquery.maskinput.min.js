/*
  Mask Input plugin for jQuery
  Licensed under the MIT license (https://github.com/shaungrady/jquery-mask-input/blob/master/LICENSE)
  Version: 1.2.0
*/
(function(e,t,n,r){function s(e,t){if(t!==r){if(e.setSelectionRange){e.focus();e.setSelectionRange(t,t)}else if(e.createTextRange){var i=e.createTextRange();i.collapse(true);i.moveEnd("character",t);i.moveStart("character",t);i.select()}}else{var s=0;if(n.selection){e.focus();var o=n.selection.createRange();o.moveStart("character",-e.value.length);s=o.text.length}if(e.selectionStart!==r)s=e.selectionStart;return s}}function o(e){if(e.selectionStart!==r)return e.selectionEnd-e.selectionStart;if(n.selection)return n.selection.createRange().text.length}var i={9:/\d/,A:/[a-zA-Z]/,"*":/[a-zA-Z0-9]/};e.fn.extend({maskInput:function(t){if(!this.length)return this;return this.filter("input").each(function(n,u){function d(t){var n="",r=c.slice();e.each(t.split(""),function(e,t){if(r.length&&r[0].test(t)){n+=t;r.shift()}});return n}function v(t){var n="",r=l.slice();e.each(h.split(""),function(e,i){if(t.length&&e===r[0]){n+=t.charAt(0)||"_";t=t.substr(1);r.shift()}else n+=i});return n}function m(t){var n=e(this);if(!n.data("isUnmaskedValueValid")){n.val("");n.attr("value-unmasked","")}n.data("caretPositionPreinput",0);n.data("selectionLengthPreinput",0)}function g(t){var n=t.which,r=t.type;if(n==16||n==91)return true;var i=e(this),u=i.val(),a=i.data("valuePreinput")||"",f,c=d(u),p=i.attr("value-unmasked")||"",m=s(this)||0,y=i.data("caretPositionPreinput")||0,b=m-y,w=l[0],E=l[c.length],S=o(this),x=i.data("selectionLengthPreinput")||0,T=S>0,N=x>0,C=function(t){return e.inArray(t,l)>-1},k=u.length>a.length||x&&u.length>a.length-x,L=u.length<a.length||x&&u.length==a.length-x,A=n>=37&&n<=40&&t.shiftKey,O=n==37,M=n==8||r!="keyup"&&L&&b===-1,_=n==46||r!="keyup"&&L&&b===0&&!N,D=(O||M||r=="click")&&m>0;i.data("selectionLengthPreinput",S);i.unbind("mouseout.mask").one("mouseout.mask",g);if(r=="mouseout"||A||T&&(r=="click"||r=="keyup"))return true;if((r=="input"||r=="propertychange")&&L&&!N&&c===p){while(M&&m>0&&!C(m))m--;while(_&&m<h.length&&inArray(m,l)==-1)m++;var P=e.inArray(m,l);c=c.substring(0,P)+c.substring(P+1)}i.attr("value-unmasked",c);i.data("isUnmaskedValueValid",c.length===l.length);f=v(c);i.data("valuePreinput",f);i.val(f);if(D)m--;m=m>E?E:m<w?w:m;while(!C(m)&&m>w&&m<E)m+=D?-1:1;if(D&&m<E||k&&!C(y))m++;i.data("caretPositionPreinput",m);s(this,m)}var a=e(u),f=a.attr("mask")||t,l=[],c=[],h="";if(f===r)return true;if(f instanceof Array){var p=0;e.each(f,function(t,n){if(n instanceof RegExp){l.push(p++);h+="_";c.push(n)}else if(typeof n=="string"){e.each(n.split(""),function(e,t){h+=t;p++})}})}else{e.each(f.split(""),function(e,t){if(i[t]){l.push(e);h+="_";c.push(i[t])}else h+=t})}if(!l.length)return this;(function(e){var t=d(e.val()),n=v(t),r=t.length===l.length;e.val(n);e.attr("value-unmasked",t);e.data("isUnmaskedValueValid",r);e.removeAttr("maxlength")})(a);a.attr("placeholder",h);a.unbind(".mask");a.bind("blur.mask",m).triggerHandler("blur");a.bind("input.mask propertychange.mask keyup.mask click.mask",g)})}})})(jQuery,window,document)